.\" see groff_man for syntax.
.TH BUILD_MODE.H 3 "2025" "libamalgam" "Library Functions Manual"
.SH NAME
build_mode.h \-\- Detection of current build mode with respect to
.br
.BI build\-mode
specified on the command line during build.
.br
It is used by the 
.BI error
.BI handling
.BI strategies
in
.BI libmamalgam.
.SH LIBRARY
Development C library
.RI  ( libamalgam ", " \-lamalgam )
.SH SYNOPSIS
.BI #include\ <build_mode.h>
.br
or
.br
.BI #include\ <amalgam.h>
.SH DESCRIPTION
.PP
.BI build_mode.h
lets you configure the build mode of your program compile
.br
time which your program can probe through the function
.BI LA_build_mode()
.br
in
.BI libamalgam.
.PP
You specify one of the feature request macros:
.BI LA_DBG,
.BI LA_DEV,
or
.br
.BI LA_REL
on the 
.BR gcc
command
line, which configures the build mode of
.br
the program.
.PP
The default
.BI build
.BI type
is
.BI LA_DEV
if no feature request macro is
.br
specified compile-time (
.BR ex:
.BI \-DLA_REL
).
.SH DETAILS
.PP
Macro definition to instigate parsing of build mode from within client
.br program.
.IP
.RI #define " "  LA_BUILDMODE_GET
.br
You need to
.RI #define " "  LA_BUILDMODE_GET
in some f c \- file that
.br
is 
compiled with the relevant feature request macro on the
.br
.BI gcc
command line and linked into your program in the link phase.
.PP
Feature request macros that can be set on the
.BI gcc
commandline:
.IP
.BI LA_REL
sets build mode to release.
.IP
.BI LA_DEV
sets build mode to dev, which is the normal behavior
.br
you normally expect during development. (Default value.)
.IP
.BI LA_DBG
sets build mode to debug, which automatically lanuches
.br
.BI Gdb
when a run-time error occurs or an assertion breaks.
.PP
Datatype for build mode:
.IP
.RI typedef " " enum " " { " " LA__REL=0 "" ", " "" LA__DEV=1 "" ", " "" LA__DBG=2 " " } " " LA_BuildMode "" ;
.br
These are the values that
.BI LA_BuildMode()
returns to identify
.br
the
build mode to the client program.
.PP
The function that retuns the current build mode runtime:
.IP
.RI LA_BuildMode " " build_mode(void) "" ;
.br
Returns the current compiled buildmode to the client program
.br
run time as a 
.IB LA_BuildMode
value.
.SH ERRORS
You will get a linker error link time if you have forgotten to 
.br
.RI #define " "  LA_BUILDMODE_GET
before
.BI #include\ <build_mode.h>
.br
or
.BI #include\ <amalgam.h>
in some c  file that is compiled with the
.br
relevant feature request macro and linked into
your  program.
.SH NOTES
.PP
In order for to make the functionality work you need to
.br
.RI #define " "  LA_BUILDMODE_GET
before you 
.BI #include\ <build_mode.h>
or
.br
.BI #include\ <amalgam.h>
in the c \- file you use to parse the feature
.br
request macro.
.br
This file needs to be compiled with the feature request macro and 
.br
linked with the finished program.
.PP
You will also need to link your project with 
.BI \-lamalgam.
.SH SEE ALSO
amalgam(3)
.\" vim: nospell
